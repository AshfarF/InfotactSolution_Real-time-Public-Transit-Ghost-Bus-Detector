{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\infotact project\\\\bustang-co-us\\\\frontend\\\\src\\\\components\\\\BusMap.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, Circle } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// Fix for default markers in react-leaflet\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\n\n// Custom bus icons\nconst createBusIcon = (status, severity = 'info') => {\n  let color = '#27ae60'; // Default green for active\n\n  if (status === 'ghost') {\n    color = '#e74c3c'; // Red for ghost\n  } else if (severity === 'warning') {\n    color = '#f39c12'; // Orange for warnings\n  } else if (severity === 'critical') {\n    color = '#e74c3c'; // Red for critical\n  }\n  return L.divIcon({\n    className: 'custom-bus-icon',\n    html: `\n      <div style=\"\n        width: 16px;\n        height: 16px;\n        background-color: ${color};\n        border: 2px solid white;\n        border-radius: 50%;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.3);\n        ${status === 'ghost' ? 'animation: pulse 1.5s infinite;' : ''}\n      \"></div>\n    `,\n    iconSize: [20, 20],\n    iconAnchor: [10, 10]\n  });\n};\n\n// Stop icon\nconst stopIcon = L.divIcon({\n  className: 'custom-stop-icon',\n  html: `\n    <div style=\"\n      width: 8px;\n      height: 8px;\n      background-color: #3498db;\n      border: 1px solid white;\n      border-radius: 50%;\n      box-shadow: 0 1px 2px rgba(0,0,0,0.2);\n    \"></div>\n  `,\n  iconSize: [10, 10],\n  iconAnchor: [5, 5]\n});\nconst BusMap = ({\n  buses,\n  stops,\n  routes\n}) => {\n  _s();\n  const [selectedBus, setSelectedBus] = useState(null);\n  const [showStops, setShowStops] = useState(false);\n  const [mapCenter, setMapCenter] = useState([39.7392, -104.9903]); // Denver center\n  const [mapZoom, setMapZoom] = useState(10);\n\n  // Calculate map bounds based on buses and stops\n  useEffect(() => {\n    if (buses.length > 0) {\n      const lats = buses.map(bus => bus.lat);\n      const lons = buses.map(bus => bus.lon);\n      if (stops.length > 0) {\n        lats.push(...stops.map(stop => stop.stop_lat));\n        lons.push(...stops.map(stop => stop.stop_lon));\n      }\n      const minLat = Math.min(...lats);\n      const maxLat = Math.max(...lats);\n      const minLon = Math.min(...lons);\n      const maxLon = Math.max(...lons);\n      const centerLat = (minLat + maxLat) / 2;\n      const centerLon = (minLon + maxLon) / 2;\n      setMapCenter([centerLat, centerLon]);\n    }\n  }, [buses, stops]);\n\n  // Format timestamp for display\n  const formatTimestamp = timestamp => {\n    const date = new Date(timestamp * 1000);\n    return date.toLocaleTimeString();\n  };\n\n  // Format anomaly types for display\n  const formatAnomalyTypes = types => {\n    if (!types || types.length === 0) return 'None';\n    return types.map(type => type.replace('_', ' ')).join(', ');\n  };\n\n  // Get route color\n  const getRouteColor = routeId => {\n    const route = routes.find(r => r.route_id === routeId);\n    return route ? `#${route.route_color}` : '#3498db';\n  };\n\n  // Memoized bus markers for performance\n  const busMarkers = useMemo(() => {\n    return buses.map(bus => /*#__PURE__*/_jsxDEV(Marker, {\n      position: [bus.lat, bus.lon],\n      icon: createBusIcon(bus.status, bus.severity),\n      eventHandlers: {\n        click: () => setSelectedBus(bus)\n      },\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            minWidth: '200px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              margin: '0 0 10px 0',\n              color: '#2c3e50'\n            },\n            children: [\"Bus \", bus.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Route:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), \" \", bus.route_id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: bus.is_ghost ? '#e74c3c' : '#27ae60',\n                fontWeight: 'bold'\n              },\n              children: bus.is_ghost ? 'Ghost Bus' : 'Active'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), bus.speed && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Speed:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this), \" \", Math.round(bus.speed), \" km/h\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Last Update:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), \" \", formatTimestamp(bus.timestamp)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), bus.anomaly_types && bus.anomaly_types.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Anomalies:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#f39c12'\n              },\n              children: formatAnomalyTypes(bus.anomaly_types)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Severity:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: bus.severity === 'critical' ? '#e74c3c' : bus.severity === 'warning' ? '#f39c12' : '#27ae60'\n              },\n              children: bus.severity || 'info'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.8em',\n              color: '#7f8c8d',\n              marginTop: '10px'\n            },\n            children: [\"Lat: \", bus.lat.toFixed(6), \", Lon: \", bus.lon.toFixed(6)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)\n    }, bus.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this));\n  }, [buses]);\n\n  // Memoized stop markers for performance\n  const stopMarkers = useMemo(() => {\n    if (!showStops) return [];\n    return stops.slice(0, 50).map(stop =>\n    /*#__PURE__*/\n    // Limit stops for performance\n    _jsxDEV(Marker, {\n      position: [stop.stop_lat, stop.stop_lon],\n      icon: stopIcon,\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              margin: '0 0 8px 0'\n            },\n            children: stop.stop_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Stop ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 18\n            }, this), \" \", stop.stop_id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), stop.stop_code && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Code:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 20\n            }, this), \" \", stop.stop_code]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)\n    }, stop.stop_id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this));\n  }, [stops, showStops]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: '100%',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '10px',\n        right: '10px',\n        zIndex: 1000,\n        background: 'white',\n        padding: '10px',\n        borderRadius: '4px',\n        boxShadow: '0 2px 4px rgba(0,0,0,0.2)'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '5px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: showStops,\n          onChange: e => setShowStops(e.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), \"Show Bus Stops\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: '20px',\n        left: '20px',\n        zIndex: 1000,\n        background: 'white',\n        padding: '15px',\n        borderRadius: '8px',\n        boxShadow: '0 2px 8px rgba(0,0,0,0.2)',\n        minWidth: '150px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          margin: '0 0 10px 0',\n          fontSize: '0.9rem'\n        },\n        children: \"Legend\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '8px',\n          marginBottom: '6px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '12px',\n            height: '12px',\n            backgroundColor: '#27ae60',\n            borderRadius: '50%',\n            border: '2px solid white',\n            boxShadow: '0 1px 2px rgba(0,0,0,0.2)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '0.8rem'\n          },\n          children: \"Active Bus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '8px',\n          marginBottom: '6px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '12px',\n            height: '12px',\n            backgroundColor: '#e74c3c',\n            borderRadius: '50%',\n            border: '2px solid white',\n            boxShadow: '0 1px 2px rgba(0,0,0,0.2)',\n            animation: 'pulse 1.5s infinite'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '0.8rem'\n          },\n          children: \"Ghost Bus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '8px',\n          marginBottom: '6px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '12px',\n            height: '12px',\n            backgroundColor: '#f39c12',\n            borderRadius: '50%',\n            border: '2px solid white',\n            boxShadow: '0 1px 2px rgba(0,0,0,0.2)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '0.8rem'\n          },\n          children: \"Warning\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), showStops && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '8px',\n            height: '8px',\n            backgroundColor: '#3498db',\n            borderRadius: '50%',\n            border: '1px solid white',\n            boxShadow: '0 1px 2px rgba(0,0,0,0.2)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '0.8rem'\n          },\n          children: \"Bus Stop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: mapCenter,\n      zoom: mapZoom,\n      style: {\n        height: '100%',\n        width: '100%'\n      },\n      zoomControl: true,\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this), busMarkers, stopMarkers]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '10px',\n        left: '10px',\n        zIndex: 1000,\n        background: 'rgba(0,0,0,0.7)',\n        color: 'white',\n        padding: '8px 12px',\n        borderRadius: '4px',\n        fontSize: '0.9rem'\n      },\n      children: [\"Showing \", buses.length, \" buses\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, this);\n};\n_s(BusMap, \"3G7s9qrFF1q2mMHuq10jTYsdnok=\");\n_c = BusMap;\nexport default BusMap;\nvar _c;\n$RefreshReg$(_c, \"BusMap\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","MapContainer","TileLayer","Marker","Popup","Circle","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","createBusIcon","status","severity","color","divIcon","className","html","iconSize","iconAnchor","stopIcon","BusMap","buses","stops","routes","_s","selectedBus","setSelectedBus","showStops","setShowStops","mapCenter","setMapCenter","mapZoom","setMapZoom","length","lats","map","bus","lat","lons","lon","push","stop","stop_lat","stop_lon","minLat","Math","min","maxLat","max","minLon","maxLon","centerLat","centerLon","formatTimestamp","timestamp","date","Date","toLocaleTimeString","formatAnomalyTypes","types","type","replace","join","getRouteColor","routeId","route","find","r","route_id","route_color","busMarkers","position","icon","eventHandlers","click","children","style","minWidth","margin","id","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","is_ghost","fontWeight","speed","round","anomaly_types","fontSize","marginTop","toFixed","stopMarkers","slice","stop_name","stop_id","stop_code","height","top","right","zIndex","background","padding","borderRadius","boxShadow","display","alignItems","gap","checked","onChange","e","target","bottom","left","width","backgroundColor","border","animation","center","zoom","zoomControl","attribution","url","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/Desktop/infotact project/bustang-co-us/frontend/src/components/BusMap.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup, Circle } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\n// Fix for default markers in react-leaflet\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\r\n});\r\n\r\n// Custom bus icons\r\nconst createBusIcon = (status, severity = 'info') => {\r\n  let color = '#27ae60'; // Default green for active\r\n  \r\n  if (status === 'ghost') {\r\n    color = '#e74c3c'; // Red for ghost\r\n  } else if (severity === 'warning') {\r\n    color = '#f39c12'; // Orange for warnings\r\n  } else if (severity === 'critical') {\r\n    color = '#e74c3c'; // Red for critical\r\n  }\r\n\r\n  return L.divIcon({\r\n    className: 'custom-bus-icon',\r\n    html: `\r\n      <div style=\"\r\n        width: 16px;\r\n        height: 16px;\r\n        background-color: ${color};\r\n        border: 2px solid white;\r\n        border-radius: 50%;\r\n        box-shadow: 0 2px 4px rgba(0,0,0,0.3);\r\n        ${status === 'ghost' ? 'animation: pulse 1.5s infinite;' : ''}\r\n      \"></div>\r\n    `,\r\n    iconSize: [20, 20],\r\n    iconAnchor: [10, 10]\r\n  });\r\n};\r\n\r\n// Stop icon\r\nconst stopIcon = L.divIcon({\r\n  className: 'custom-stop-icon',\r\n  html: `\r\n    <div style=\"\r\n      width: 8px;\r\n      height: 8px;\r\n      background-color: #3498db;\r\n      border: 1px solid white;\r\n      border-radius: 50%;\r\n      box-shadow: 0 1px 2px rgba(0,0,0,0.2);\r\n    \"></div>\r\n  `,\r\n  iconSize: [10, 10],\r\n  iconAnchor: [5, 5]\r\n});\r\n\r\nconst BusMap = ({ buses, stops, routes }) => {\r\n  const [selectedBus, setSelectedBus] = useState(null);\r\n  const [showStops, setShowStops] = useState(false);\r\n  const [mapCenter, setMapCenter] = useState([39.7392, -104.9903]); // Denver center\r\n  const [mapZoom, setMapZoom] = useState(10);\r\n\r\n  // Calculate map bounds based on buses and stops\r\n  useEffect(() => {\r\n    if (buses.length > 0) {\r\n      const lats = buses.map(bus => bus.lat);\r\n      const lons = buses.map(bus => bus.lon);\r\n      \r\n      if (stops.length > 0) {\r\n        lats.push(...stops.map(stop => stop.stop_lat));\r\n        lons.push(...stops.map(stop => stop.stop_lon));\r\n      }\r\n      \r\n      const minLat = Math.min(...lats);\r\n      const maxLat = Math.max(...lats);\r\n      const minLon = Math.min(...lons);\r\n      const maxLon = Math.max(...lons);\r\n      \r\n      const centerLat = (minLat + maxLat) / 2;\r\n      const centerLon = (minLon + maxLon) / 2;\r\n      \r\n      setMapCenter([centerLat, centerLon]);\r\n    }\r\n  }, [buses, stops]);\r\n\r\n  // Format timestamp for display\r\n  const formatTimestamp = (timestamp) => {\r\n    const date = new Date(timestamp * 1000);\r\n    return date.toLocaleTimeString();\r\n  };\r\n\r\n  // Format anomaly types for display\r\n  const formatAnomalyTypes = (types) => {\r\n    if (!types || types.length === 0) return 'None';\r\n    return types.map(type => type.replace('_', ' ')).join(', ');\r\n  };\r\n\r\n  // Get route color\r\n  const getRouteColor = (routeId) => {\r\n    const route = routes.find(r => r.route_id === routeId);\r\n    return route ? `#${route.route_color}` : '#3498db';\r\n  };\r\n\r\n  // Memoized bus markers for performance\r\n  const busMarkers = useMemo(() => {\r\n    return buses.map(bus => (\r\n      <Marker\r\n        key={bus.id}\r\n        position={[bus.lat, bus.lon]}\r\n        icon={createBusIcon(bus.status, bus.severity)}\r\n        eventHandlers={{\r\n          click: () => setSelectedBus(bus)\r\n        }}\r\n      >\r\n        <Popup>\r\n          <div style={{ minWidth: '200px' }}>\r\n            <h4 style={{ margin: '0 0 10px 0', color: '#2c3e50' }}>\r\n              Bus {bus.id}\r\n            </h4>\r\n            \r\n            <div style={{ marginBottom: '8px' }}>\r\n              <strong>Route:</strong> {bus.route_id}\r\n            </div>\r\n            \r\n            <div style={{ marginBottom: '8px' }}>\r\n              <strong>Status:</strong>{' '}\r\n              <span style={{ \r\n                color: bus.is_ghost ? '#e74c3c' : '#27ae60',\r\n                fontWeight: 'bold'\r\n              }}>\r\n                {bus.is_ghost ? 'Ghost Bus' : 'Active'}\r\n              </span>\r\n            </div>\r\n            \r\n            {bus.speed && (\r\n              <div style={{ marginBottom: '8px' }}>\r\n                <strong>Speed:</strong> {Math.round(bus.speed)} km/h\r\n              </div>\r\n            )}\r\n            \r\n            <div style={{ marginBottom: '8px' }}>\r\n              <strong>Last Update:</strong> {formatTimestamp(bus.timestamp)}\r\n            </div>\r\n            \r\n            {bus.anomaly_types && bus.anomaly_types.length > 0 && (\r\n              <div style={{ marginBottom: '8px' }}>\r\n                <strong>Anomalies:</strong>{' '}\r\n                <span style={{ color: '#f39c12' }}>\r\n                  {formatAnomalyTypes(bus.anomaly_types)}\r\n                </span>\r\n              </div>\r\n            )}\r\n            \r\n            <div style={{ marginBottom: '8px' }}>\r\n              <strong>Severity:</strong>{' '}\r\n              <span style={{ \r\n                color: bus.severity === 'critical' ? '#e74c3c' : \r\n                       bus.severity === 'warning' ? '#f39c12' : '#27ae60'\r\n              }}>\r\n                {bus.severity || 'info'}\r\n              </span>\r\n            </div>\r\n            \r\n            <div style={{ fontSize: '0.8em', color: '#7f8c8d', marginTop: '10px' }}>\r\n              Lat: {bus.lat.toFixed(6)}, Lon: {bus.lon.toFixed(6)}\r\n            </div>\r\n          </div>\r\n        </Popup>\r\n      </Marker>\r\n    ));\r\n  }, [buses]);\r\n\r\n  // Memoized stop markers for performance\r\n  const stopMarkers = useMemo(() => {\r\n    if (!showStops) return [];\r\n    \r\n    return stops.slice(0, 50).map(stop => ( // Limit stops for performance\r\n      <Marker\r\n        key={stop.stop_id}\r\n        position={[stop.stop_lat, stop.stop_lon]}\r\n        icon={stopIcon}\r\n      >\r\n        <Popup>\r\n          <div>\r\n            <h4 style={{ margin: '0 0 8px 0' }}>{stop.stop_name}</h4>\r\n            <div><strong>Stop ID:</strong> {stop.stop_id}</div>\r\n            {stop.stop_code && (\r\n              <div><strong>Code:</strong> {stop.stop_code}</div>\r\n            )}\r\n          </div>\r\n        </Popup>\r\n      </Marker>\r\n    ));\r\n  }, [stops, showStops]);\r\n\r\n  return (\r\n    <div style={{ height: '100%', position: 'relative' }}>\r\n      {/* Map Controls */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: '10px',\r\n        right: '10px',\r\n        zIndex: 1000,\r\n        background: 'white',\r\n        padding: '10px',\r\n        borderRadius: '4px',\r\n        boxShadow: '0 2px 4px rgba(0,0,0,0.2)'\r\n      }}>\r\n        <label style={{ display: 'flex', alignItems: 'center', gap: '5px' }}>\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={showStops}\r\n            onChange={(e) => setShowStops(e.target.checked)}\r\n          />\r\n          Show Bus Stops\r\n        </label>\r\n      </div>\r\n\r\n      {/* Legend */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        bottom: '20px',\r\n        left: '20px',\r\n        zIndex: 1000,\r\n        background: 'white',\r\n        padding: '15px',\r\n        borderRadius: '8px',\r\n        boxShadow: '0 2px 8px rgba(0,0,0,0.2)',\r\n        minWidth: '150px'\r\n      }}>\r\n        <h4 style={{ margin: '0 0 10px 0', fontSize: '0.9rem' }}>Legend</h4>\r\n        \r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '6px' }}>\r\n          <div style={{\r\n            width: '12px',\r\n            height: '12px',\r\n            backgroundColor: '#27ae60',\r\n            borderRadius: '50%',\r\n            border: '2px solid white',\r\n            boxShadow: '0 1px 2px rgba(0,0,0,0.2)'\r\n          }}></div>\r\n          <span style={{ fontSize: '0.8rem' }}>Active Bus</span>\r\n        </div>\r\n        \r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '6px' }}>\r\n          <div style={{\r\n            width: '12px',\r\n            height: '12px',\r\n            backgroundColor: '#e74c3c',\r\n            borderRadius: '50%',\r\n            border: '2px solid white',\r\n            boxShadow: '0 1px 2px rgba(0,0,0,0.2)',\r\n            animation: 'pulse 1.5s infinite'\r\n          }}></div>\r\n          <span style={{ fontSize: '0.8rem' }}>Ghost Bus</span>\r\n        </div>\r\n        \r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '6px' }}>\r\n          <div style={{\r\n            width: '12px',\r\n            height: '12px',\r\n            backgroundColor: '#f39c12',\r\n            borderRadius: '50%',\r\n            border: '2px solid white',\r\n            boxShadow: '0 1px 2px rgba(0,0,0,0.2)'\r\n          }}></div>\r\n          <span style={{ fontSize: '0.8rem' }}>Warning</span>\r\n        </div>\r\n        \r\n        {showStops && (\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n            <div style={{\r\n              width: '8px',\r\n              height: '8px',\r\n              backgroundColor: '#3498db',\r\n              borderRadius: '50%',\r\n              border: '1px solid white',\r\n              boxShadow: '0 1px 2px rgba(0,0,0,0.2)'\r\n            }}></div>\r\n            <span style={{ fontSize: '0.8rem' }}>Bus Stop</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Map */}\r\n      <MapContainer\r\n        center={mapCenter}\r\n        zoom={mapZoom}\r\n        style={{ height: '100%', width: '100%' }}\r\n        zoomControl={true}\r\n      >\r\n        <TileLayer\r\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        />\r\n        \r\n        {/* Bus markers */}\r\n        {busMarkers}\r\n        \r\n        {/* Stop markers */}\r\n        {stopMarkers}\r\n      </MapContainer>\r\n\r\n      {/* Bus count indicator */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: '10px',\r\n        left: '10px',\r\n        zIndex: 1000,\r\n        background: 'rgba(0,0,0,0.7)',\r\n        color: 'white',\r\n        padding: '8px 12px',\r\n        borderRadius: '4px',\r\n        fontSize: '0.9rem'\r\n      }}>\r\n        Showing {buses.length} buses\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BusMap;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,OAAO,QAAQ,OAAO;AAC3D,SAASC,YAAY,EAAEC,SAAS,EAAEC,MAAM,EAAEC,KAAK,EAAEC,MAAM,QAAQ,eAAe;AAC9E,OAAOC,CAAC,MAAM,SAAS;AACvB,OAAO,0BAA0B;;AAEjC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,OAAOF,CAAC,CAACG,IAAI,CAACC,OAAO,CAACC,SAAS,CAACC,WAAW;AAC3CN,CAAC,CAACG,IAAI,CAACC,OAAO,CAACG,YAAY,CAAC;EAC1BC,aAAa,EAAEC,OAAO,CAAC,wCAAwC,CAAC;EAChEC,OAAO,EAAED,OAAO,CAAC,qCAAqC,CAAC;EACvDE,SAAS,EAAEF,OAAO,CAAC,uCAAuC;AAC5D,CAAC,CAAC;;AAEF;AACA,MAAMG,aAAa,GAAGA,CAACC,MAAM,EAAEC,QAAQ,GAAG,MAAM,KAAK;EACnD,IAAIC,KAAK,GAAG,SAAS,CAAC,CAAC;;EAEvB,IAAIF,MAAM,KAAK,OAAO,EAAE;IACtBE,KAAK,GAAG,SAAS,CAAC,CAAC;EACrB,CAAC,MAAM,IAAID,QAAQ,KAAK,SAAS,EAAE;IACjCC,KAAK,GAAG,SAAS,CAAC,CAAC;EACrB,CAAC,MAAM,IAAID,QAAQ,KAAK,UAAU,EAAE;IAClCC,KAAK,GAAG,SAAS,CAAC,CAAC;EACrB;EAEA,OAAOf,CAAC,CAACgB,OAAO,CAAC;IACfC,SAAS,EAAE,iBAAiB;IAC5BC,IAAI,EAAE;AACV;AACA;AACA;AACA,4BAA4BH,KAAK;AACjC;AACA;AACA;AACA,UAAUF,MAAM,KAAK,OAAO,GAAG,iCAAiC,GAAG,EAAE;AACrE;AACA,KAAK;IACDM,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;IAClBC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE;EACrB,CAAC,CAAC;AACJ,CAAC;;AAED;AACA,MAAMC,QAAQ,GAAGrB,CAAC,CAACgB,OAAO,CAAC;EACzBC,SAAS,EAAE,kBAAkB;EAC7BC,IAAI,EAAE;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;EACDC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;EAClBC,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC;AACnB,CAAC,CAAC;AAEF,MAAME,MAAM,GAAGA,CAAC;EAAEC,KAAK;EAAEC,KAAK;EAAEC;AAAO,CAAC,KAAK;EAAAC,EAAA;EAC3C,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGpC,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACqC,SAAS,EAAEC,YAAY,CAAC,GAAGtC,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACuC,SAAS,EAAEC,YAAY,CAAC,GAAGxC,QAAQ,CAAC,CAAC,OAAO,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;EAClE,MAAM,CAACyC,OAAO,EAAEC,UAAU,CAAC,GAAG1C,QAAQ,CAAC,EAAE,CAAC;;EAE1C;EACAC,SAAS,CAAC,MAAM;IACd,IAAI8B,KAAK,CAACY,MAAM,GAAG,CAAC,EAAE;MACpB,MAAMC,IAAI,GAAGb,KAAK,CAACc,GAAG,CAACC,GAAG,IAAIA,GAAG,CAACC,GAAG,CAAC;MACtC,MAAMC,IAAI,GAAGjB,KAAK,CAACc,GAAG,CAACC,GAAG,IAAIA,GAAG,CAACG,GAAG,CAAC;MAEtC,IAAIjB,KAAK,CAACW,MAAM,GAAG,CAAC,EAAE;QACpBC,IAAI,CAACM,IAAI,CAAC,GAAGlB,KAAK,CAACa,GAAG,CAACM,IAAI,IAAIA,IAAI,CAACC,QAAQ,CAAC,CAAC;QAC9CJ,IAAI,CAACE,IAAI,CAAC,GAAGlB,KAAK,CAACa,GAAG,CAACM,IAAI,IAAIA,IAAI,CAACE,QAAQ,CAAC,CAAC;MAChD;MAEA,MAAMC,MAAM,GAAGC,IAAI,CAACC,GAAG,CAAC,GAAGZ,IAAI,CAAC;MAChC,MAAMa,MAAM,GAAGF,IAAI,CAACG,GAAG,CAAC,GAAGd,IAAI,CAAC;MAChC,MAAMe,MAAM,GAAGJ,IAAI,CAACC,GAAG,CAAC,GAAGR,IAAI,CAAC;MAChC,MAAMY,MAAM,GAAGL,IAAI,CAACG,GAAG,CAAC,GAAGV,IAAI,CAAC;MAEhC,MAAMa,SAAS,GAAG,CAACP,MAAM,GAAGG,MAAM,IAAI,CAAC;MACvC,MAAMK,SAAS,GAAG,CAACH,MAAM,GAAGC,MAAM,IAAI,CAAC;MAEvCpB,YAAY,CAAC,CAACqB,SAAS,EAAEC,SAAS,CAAC,CAAC;IACtC;EACF,CAAC,EAAE,CAAC/B,KAAK,EAAEC,KAAK,CAAC,CAAC;;EAElB;EACA,MAAM+B,eAAe,GAAIC,SAAS,IAAK;IACrC,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,SAAS,GAAG,IAAI,CAAC;IACvC,OAAOC,IAAI,CAACE,kBAAkB,CAAC,CAAC;EAClC,CAAC;;EAED;EACA,MAAMC,kBAAkB,GAAIC,KAAK,IAAK;IACpC,IAAI,CAACA,KAAK,IAAIA,KAAK,CAAC1B,MAAM,KAAK,CAAC,EAAE,OAAO,MAAM;IAC/C,OAAO0B,KAAK,CAACxB,GAAG,CAACyB,IAAI,IAAIA,IAAI,CAACC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;EAC7D,CAAC;;EAED;EACA,MAAMC,aAAa,GAAIC,OAAO,IAAK;IACjC,MAAMC,KAAK,GAAG1C,MAAM,CAAC2C,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,QAAQ,KAAKJ,OAAO,CAAC;IACtD,OAAOC,KAAK,GAAG,IAAIA,KAAK,CAACI,WAAW,EAAE,GAAG,SAAS;EACpD,CAAC;;EAED;EACA,MAAMC,UAAU,GAAG9E,OAAO,CAAC,MAAM;IAC/B,OAAO6B,KAAK,CAACc,GAAG,CAACC,GAAG,iBAClBpC,OAAA,CAACL,MAAM;MAEL4E,QAAQ,EAAE,CAACnC,GAAG,CAACC,GAAG,EAAED,GAAG,CAACG,GAAG,CAAE;MAC7BiC,IAAI,EAAE9D,aAAa,CAAC0B,GAAG,CAACzB,MAAM,EAAEyB,GAAG,CAACxB,QAAQ,CAAE;MAC9C6D,aAAa,EAAE;QACbC,KAAK,EAAEA,CAAA,KAAMhD,cAAc,CAACU,GAAG;MACjC,CAAE;MAAAuC,QAAA,eAEF3E,OAAA,CAACJ,KAAK;QAAA+E,QAAA,eACJ3E,OAAA;UAAK4E,KAAK,EAAE;YAAEC,QAAQ,EAAE;UAAQ,CAAE;UAAAF,QAAA,gBAChC3E,OAAA;YAAI4E,KAAK,EAAE;cAAEE,MAAM,EAAE,YAAY;cAAEjE,KAAK,EAAE;YAAU,CAAE;YAAA8D,QAAA,GAAC,MACjD,EAACvC,GAAG,CAAC2C,EAAE;UAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,eAELnF,OAAA;YAAK4E,KAAK,EAAE;cAAEQ,YAAY,EAAE;YAAM,CAAE;YAAAT,QAAA,gBAClC3E,OAAA;cAAA2E,QAAA,EAAQ;YAAM;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAAC/C,GAAG,CAACgC,QAAQ;UAAA;YAAAY,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClC,CAAC,eAENnF,OAAA;YAAK4E,KAAK,EAAE;cAAEQ,YAAY,EAAE;YAAM,CAAE;YAAAT,QAAA,gBAClC3E,OAAA;cAAA2E,QAAA,EAAQ;YAAO;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAAC,GAAG,eAC5BnF,OAAA;cAAM4E,KAAK,EAAE;gBACX/D,KAAK,EAAEuB,GAAG,CAACiD,QAAQ,GAAG,SAAS,GAAG,SAAS;gBAC3CC,UAAU,EAAE;cACd,CAAE;cAAAX,QAAA,EACCvC,GAAG,CAACiD,QAAQ,GAAG,WAAW,GAAG;YAAQ;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,EAEL/C,GAAG,CAACmD,KAAK,iBACRvF,OAAA;YAAK4E,KAAK,EAAE;cAAEQ,YAAY,EAAE;YAAM,CAAE;YAAAT,QAAA,gBAClC3E,OAAA;cAAA2E,QAAA,EAAQ;YAAM;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACtC,IAAI,CAAC2C,KAAK,CAACpD,GAAG,CAACmD,KAAK,CAAC,EAAC,OACjD;UAAA;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CACN,eAEDnF,OAAA;YAAK4E,KAAK,EAAE;cAAEQ,YAAY,EAAE;YAAM,CAAE;YAAAT,QAAA,gBAClC3E,OAAA;cAAA2E,QAAA,EAAQ;YAAY;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAAC9B,eAAe,CAACjB,GAAG,CAACkB,SAAS,CAAC;UAAA;YAAA0B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1D,CAAC,EAEL/C,GAAG,CAACqD,aAAa,IAAIrD,GAAG,CAACqD,aAAa,CAACxD,MAAM,GAAG,CAAC,iBAChDjC,OAAA;YAAK4E,KAAK,EAAE;cAAEQ,YAAY,EAAE;YAAM,CAAE;YAAAT,QAAA,gBAClC3E,OAAA;cAAA2E,QAAA,EAAQ;YAAU;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAAC,GAAG,eAC/BnF,OAAA;cAAM4E,KAAK,EAAE;gBAAE/D,KAAK,EAAE;cAAU,CAAE;cAAA8D,QAAA,EAC/BjB,kBAAkB,CAACtB,GAAG,CAACqD,aAAa;YAAC;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CACN,eAEDnF,OAAA;YAAK4E,KAAK,EAAE;cAAEQ,YAAY,EAAE;YAAM,CAAE;YAAAT,QAAA,gBAClC3E,OAAA;cAAA2E,QAAA,EAAQ;YAAS;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAAC,GAAG,eAC9BnF,OAAA;cAAM4E,KAAK,EAAE;gBACX/D,KAAK,EAAEuB,GAAG,CAACxB,QAAQ,KAAK,UAAU,GAAG,SAAS,GACvCwB,GAAG,CAACxB,QAAQ,KAAK,SAAS,GAAG,SAAS,GAAG;cAClD,CAAE;cAAA+D,QAAA,EACCvC,GAAG,CAACxB,QAAQ,IAAI;YAAM;cAAAoE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,eAENnF,OAAA;YAAK4E,KAAK,EAAE;cAAEc,QAAQ,EAAE,OAAO;cAAE7E,KAAK,EAAE,SAAS;cAAE8E,SAAS,EAAE;YAAO,CAAE;YAAAhB,QAAA,GAAC,OACjE,EAACvC,GAAG,CAACC,GAAG,CAACuD,OAAO,CAAC,CAAC,CAAC,EAAC,SAAO,EAACxD,GAAG,CAACG,GAAG,CAACqD,OAAO,CAAC,CAAC,CAAC;UAAA;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD;IAAC,GA5DH/C,GAAG,CAAC2C,EAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OA6DL,CACT,CAAC;EACJ,CAAC,EAAE,CAAC9D,KAAK,CAAC,CAAC;;EAEX;EACA,MAAMwE,WAAW,GAAGrG,OAAO,CAAC,MAAM;IAChC,IAAI,CAACmC,SAAS,EAAE,OAAO,EAAE;IAEzB,OAAOL,KAAK,CAACwE,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC3D,GAAG,CAACM,IAAI;IAAA;IAAM;IACtCzC,OAAA,CAACL,MAAM;MAEL4E,QAAQ,EAAE,CAAC9B,IAAI,CAACC,QAAQ,EAAED,IAAI,CAACE,QAAQ,CAAE;MACzC6B,IAAI,EAAErD,QAAS;MAAAwD,QAAA,eAEf3E,OAAA,CAACJ,KAAK;QAAA+E,QAAA,eACJ3E,OAAA;UAAA2E,QAAA,gBACE3E,OAAA;YAAI4E,KAAK,EAAE;cAAEE,MAAM,EAAE;YAAY,CAAE;YAAAH,QAAA,EAAElC,IAAI,CAACsD;UAAS;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACzDnF,OAAA;YAAA2E,QAAA,gBAAK3E,OAAA;cAAA2E,QAAA,EAAQ;YAAQ;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAAC1C,IAAI,CAACuD,OAAO;UAAA;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,EAClD1C,IAAI,CAACwD,SAAS,iBACbjG,OAAA;YAAA2E,QAAA,gBAAK3E,OAAA;cAAA2E,QAAA,EAAQ;YAAK;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAAC1C,IAAI,CAACwD,SAAS;UAAA;YAAAjB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAClD;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD;IAAC,GAZH1C,IAAI,CAACuD,OAAO;MAAAhB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAaX,CACT,CAAC;EACJ,CAAC,EAAE,CAAC7D,KAAK,EAAEK,SAAS,CAAC,CAAC;EAEtB,oBACE3B,OAAA;IAAK4E,KAAK,EAAE;MAAEsB,MAAM,EAAE,MAAM;MAAE3B,QAAQ,EAAE;IAAW,CAAE;IAAAI,QAAA,gBAEnD3E,OAAA;MAAK4E,KAAK,EAAE;QACVL,QAAQ,EAAE,UAAU;QACpB4B,GAAG,EAAE,MAAM;QACXC,KAAK,EAAE,MAAM;QACbC,MAAM,EAAE,IAAI;QACZC,UAAU,EAAE,OAAO;QACnBC,OAAO,EAAE,MAAM;QACfC,YAAY,EAAE,KAAK;QACnBC,SAAS,EAAE;MACb,CAAE;MAAA9B,QAAA,eACA3E,OAAA;QAAO4E,KAAK,EAAE;UAAE8B,OAAO,EAAE,MAAM;UAAEC,UAAU,EAAE,QAAQ;UAAEC,GAAG,EAAE;QAAM,CAAE;QAAAjC,QAAA,gBAClE3E,OAAA;UACE4D,IAAI,EAAC,UAAU;UACfiD,OAAO,EAAElF,SAAU;UACnBmF,QAAQ,EAAGC,CAAC,IAAKnF,YAAY,CAACmF,CAAC,CAACC,MAAM,CAACH,OAAO;QAAE;UAAA7B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjD,CAAC,kBAEJ;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAGNnF,OAAA;MAAK4E,KAAK,EAAE;QACVL,QAAQ,EAAE,UAAU;QACpB0C,MAAM,EAAE,MAAM;QACdC,IAAI,EAAE,MAAM;QACZb,MAAM,EAAE,IAAI;QACZC,UAAU,EAAE,OAAO;QACnBC,OAAO,EAAE,MAAM;QACfC,YAAY,EAAE,KAAK;QACnBC,SAAS,EAAE,2BAA2B;QACtC5B,QAAQ,EAAE;MACZ,CAAE;MAAAF,QAAA,gBACA3E,OAAA;QAAI4E,KAAK,EAAE;UAAEE,MAAM,EAAE,YAAY;UAAEY,QAAQ,EAAE;QAAS,CAAE;QAAAf,QAAA,EAAC;MAAM;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAEpEnF,OAAA;QAAK4E,KAAK,EAAE;UAAE8B,OAAO,EAAE,MAAM;UAAEC,UAAU,EAAE,QAAQ;UAAEC,GAAG,EAAE,KAAK;UAAExB,YAAY,EAAE;QAAM,CAAE;QAAAT,QAAA,gBACrF3E,OAAA;UAAK4E,KAAK,EAAE;YACVuC,KAAK,EAAE,MAAM;YACbjB,MAAM,EAAE,MAAM;YACdkB,eAAe,EAAE,SAAS;YAC1BZ,YAAY,EAAE,KAAK;YACnBa,MAAM,EAAE,iBAAiB;YACzBZ,SAAS,EAAE;UACb;QAAE;UAAAzB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACTnF,OAAA;UAAM4E,KAAK,EAAE;YAAEc,QAAQ,EAAE;UAAS,CAAE;UAAAf,QAAA,EAAC;QAAU;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnD,CAAC,eAENnF,OAAA;QAAK4E,KAAK,EAAE;UAAE8B,OAAO,EAAE,MAAM;UAAEC,UAAU,EAAE,QAAQ;UAAEC,GAAG,EAAE,KAAK;UAAExB,YAAY,EAAE;QAAM,CAAE;QAAAT,QAAA,gBACrF3E,OAAA;UAAK4E,KAAK,EAAE;YACVuC,KAAK,EAAE,MAAM;YACbjB,MAAM,EAAE,MAAM;YACdkB,eAAe,EAAE,SAAS;YAC1BZ,YAAY,EAAE,KAAK;YACnBa,MAAM,EAAE,iBAAiB;YACzBZ,SAAS,EAAE,2BAA2B;YACtCa,SAAS,EAAE;UACb;QAAE;UAAAtC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACTnF,OAAA;UAAM4E,KAAK,EAAE;YAAEc,QAAQ,EAAE;UAAS,CAAE;UAAAf,QAAA,EAAC;QAAS;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClD,CAAC,eAENnF,OAAA;QAAK4E,KAAK,EAAE;UAAE8B,OAAO,EAAE,MAAM;UAAEC,UAAU,EAAE,QAAQ;UAAEC,GAAG,EAAE,KAAK;UAAExB,YAAY,EAAE;QAAM,CAAE;QAAAT,QAAA,gBACrF3E,OAAA;UAAK4E,KAAK,EAAE;YACVuC,KAAK,EAAE,MAAM;YACbjB,MAAM,EAAE,MAAM;YACdkB,eAAe,EAAE,SAAS;YAC1BZ,YAAY,EAAE,KAAK;YACnBa,MAAM,EAAE,iBAAiB;YACzBZ,SAAS,EAAE;UACb;QAAE;UAAAzB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACTnF,OAAA;UAAM4E,KAAK,EAAE;YAAEc,QAAQ,EAAE;UAAS,CAAE;UAAAf,QAAA,EAAC;QAAO;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChD,CAAC,EAELxD,SAAS,iBACR3B,OAAA;QAAK4E,KAAK,EAAE;UAAE8B,OAAO,EAAE,MAAM;UAAEC,UAAU,EAAE,QAAQ;UAAEC,GAAG,EAAE;QAAM,CAAE;QAAAjC,QAAA,gBAChE3E,OAAA;UAAK4E,KAAK,EAAE;YACVuC,KAAK,EAAE,KAAK;YACZjB,MAAM,EAAE,KAAK;YACbkB,eAAe,EAAE,SAAS;YAC1BZ,YAAY,EAAE,KAAK;YACnBa,MAAM,EAAE,iBAAiB;YACzBZ,SAAS,EAAE;UACb;QAAE;UAAAzB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACTnF,OAAA;UAAM4E,KAAK,EAAE;YAAEc,QAAQ,EAAE;UAAS,CAAE;UAAAf,QAAA,EAAC;QAAQ;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjD,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGNnF,OAAA,CAACP,YAAY;MACX8H,MAAM,EAAE1F,SAAU;MAClB2F,IAAI,EAAEzF,OAAQ;MACd6C,KAAK,EAAE;QAAEsB,MAAM,EAAE,MAAM;QAAEiB,KAAK,EAAE;MAAO,CAAE;MACzCM,WAAW,EAAE,IAAK;MAAA9C,QAAA,gBAElB3E,OAAA,CAACN,SAAS;QACRgI,WAAW,EAAC,yFAAyF;QACrGC,GAAG,EAAC;MAAoD;QAAA3C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzD,CAAC,EAGDb,UAAU,EAGVuB,WAAW;IAAA;MAAAb,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,eAGfnF,OAAA;MAAK4E,KAAK,EAAE;QACVL,QAAQ,EAAE,UAAU;QACpB4B,GAAG,EAAE,MAAM;QACXe,IAAI,EAAE,MAAM;QACZb,MAAM,EAAE,IAAI;QACZC,UAAU,EAAE,iBAAiB;QAC7BzF,KAAK,EAAE,OAAO;QACd0F,OAAO,EAAE,UAAU;QACnBC,YAAY,EAAE,KAAK;QACnBd,QAAQ,EAAE;MACZ,CAAE;MAAAf,QAAA,GAAC,UACO,EAACtD,KAAK,CAACY,MAAM,EAAC,QACxB;IAAA;MAAA+C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC3D,EAAA,CAvQIJ,MAAM;AAAAwG,EAAA,GAANxG,MAAM;AAyQZ,eAAeA,MAAM;AAAC,IAAAwG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}